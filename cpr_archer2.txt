private _data = [[[371426,19954.93907918849,15062.352861897656,"mil_box","ColorBlue","AO Butler",0,1],[371430,19537.698412698413,14104.230389492723,"mil_objective","ColorRed","OBJ NIcholas",0,1],[371438,19281.74603174603,13954.374008678285,"mil_objective","ColorBlack","OBJ Frost",0,1],[371439,19273.809523809523,13656.748467013269,"mil_objective","ColorBlack","OBJ Drift",0,1],[371440,18843.25396825397,13712.298340278601,"mil_dot","ColorBlack","RP Blizzard",0,1],[371441,19347.222222222223,13036.70391393911,"mil_pickup","ColorBlack","LZ Rudolph",0,1],[371442,19295.634920634922,12729.508261882032,"mil_pickup","ColorBlack","LZ Donner",0,1],[371443,19444.444444444445,13344.59615039673,"mil_pickup","ColorBlack","LZ Dasher",0,1],[371444,20187.5,12983.12802071108,"mil_dot","ColorBlack","RP Cupid",0,1],[371446,19865.079365079364,13175.598079240348,"mil_dot","ColorBlack","CP Dancer",0,1],[371454,19235.119047619046,13496.06381038371,"mil_dot","ColorBlack","AP Comet",0,1],[371455,19332.34126984127,13414.982735354863,"mil_dot","ColorBlack","RP Blitzen",0,1],[371456,19473.214285714286,13569.807957064952,"mil_ambush","ColorBlack","SBF Vixen",0,1],[371458,18922.619047619046,13275.1439942727,"mil_ambush","ColorBlack","SBF Elfo",0,1],[371459,18992.06349206349,13136.198282481593,"mil_dot","ColorBlack","RP Buddy",0,1],[371465,19264.88095238095,13808.807994909565,"mil_dot","ColorBlack","RP Sled",0,1],[371466,17559.52380952381,14107.481611213112,"mil_dot","ColorBlack","RP Tekkno",0,1],[371467,17677.579365079364,13582.465314516723,"mil_dot","ColorBlack","RP Hypa",0,1],[371468,18081.349206349205,12513.88361247654,"mil_dot","ColorBlack","RP Spaceman",0,1],[371469,17681.54761904762,13101.200217259428,"mil_dot","ColorBlack","RP Hurrikane",0,1],[371470,18251.984126984127,13465.274530754794,"mil_dot","ColorBlack","RP Olaf",0,1],[371471,18494.04761904762,12929.919293004412,"mil_dot","ColorBlack","RP Sven",0,1],[371478,19214.285714285714,12719.53729810515,"mil_dot","ColorBlack","RP Cold",0,1],[371479,19257.93650793651,13057.532782615843,"mil_dot","ColorBlack","RP Blanket",0,1],[371480,19456.349206349205,13408.187653967672,"mil_dot","ColorBlack","RP Igloo",0,1]],[[371422,[20001.984126984127,15000.000493382076,17000,15001.98375694757],"ColorBlack"],[371423,[17000.992063492064,15003.96492363924,17001.984126984127,11999.009786690724],"ColorBlack"],[371424,[17000.992063492064,11999.99987665448,20000.992063492064,11999.999136581366],"ColorBlack"],[371425,[20000.992063492064,11999.009786690724,20001.984126984127,14999.008306544494],"ColorBlack"],[371448,[20383.981920252925,11630.63758985022,20192.460317460318,12979.526932264189],"ColorBlue"],[371449,[20186.507936507936,12978.534462894253,19868.055555555555,13174.050928771736],"ColorBlue"],[371450,[19475.198412698413,13323.913803632142,19856.150793650795,13178.020806251483],"ColorBlue"],[371451,[20167.65873015873,12978.481292892895,19360.119047619046,13025.127353279908],"ColorBlack"],[371452,[19451.38888888889,13363.374328118167,19452.38095238095,13410.02038850518,19501.984126984127,13511.2522642387,19487.103174603173,13559.883263365586,19487.103174603173,13559.883263365586],"ColorGreen"],[371453,[19425.595238095237,13346.502348829246,19331.349206349205,13419.945082204546,19265.873015873014,13451.704102042513,19204.365079365078,13548.966100296286,19203.373015873014,13552.935977776031],"ColorBlue"],[371457,[19322.420634920636,13034.966406748075,19126.984126984127,13082.604936505026,18961.309523809523,13060.770610366422,18984.126984126982,13136.198282481593,18877.97619047619,13173.91211853918,18914.68253968254,13271.174116792952],"ColorBlack"],[371462,[19265.873015873014,13814.0548621482,19262.896825396827,13907.346982922227,19067.460317460318,14085.612379577435,19018.849206349205,14093.552134536925],"ColorBlue"],[371463,[19207.34126984127,13696.658956106743,19263.88888888889,13807.815525539629],"ColorBlue"],[371464,[19256.944444444445,13816.747749869055,19114.0873015873,13943.783829220922,19042.65873015873,14075.782255422473],"ColorGreen"],[371472,[19779.761904761905,13156.980475202932,19826.38888888889,13257.219881566516],"ColorGreen"],[371473,[19776.785714285714,12958.486601215642,19776.785714285714,13041.854028290303],"ColorGreen"],[371474,[19595.238095238095,12951.539315626083,19613.095238095237,13056.74106883935],"ColorYellow"],[371475,[19655.75396825397,13221.503566462865,19695.43650793651,13291.968891728355],"ColorYellow"],[371476,[19408.73015873016,12970.40881586894,19445.43650793651,13065.685875382842],"ColorRed"],[371477,[19502.97619047619,13262.19481063026,19541.666666666668,13336.630013375496],"ColorRed"]],[[371421,20394.84126984127,11557.53857243001,"blu",false,0,0,0,0,"ARG",1],[371427,19266.865079365078,13608.134514757048,"red",true,0,0,0,0,"",1],[371428,19231.150793650795,14013.90268873657,"unk",false,0,0,0,0,"",1],[371429,18829.169489923806,13693.074642178364,"red",true,0,0,0,0,"",1]]];

_data params ['_icons', '_poly', '_metis'];

if (!isNil 'gtd_map_allMarkers') then {
  {
    deleteMarker _x;
  } forEach gtd_map_allMarkers;
};

if (!isNil 'gtd_map_allMetisMarkers') then {
  {
    [_x] call mts_markers_fnc_deleteMarker
  } forEach gtd_map_allMetisMarkers;
};

gtd_map_allMarkers = [];
gtd_map_allMetisMarkers = [];

{
  _x params ['_id', '_points', '_color'];
  _points params ['_x', '_y'];
  private _marker = createMarker [ format ['_USER_DEFINED #%1/planops%2/0', clientOwner, _id], [_x, _y], 0];
  _marker setMarkerShape 'polyline';
  _marker setMarkerPolyline _points;
  _marker setMarkerColor _color; 
  gtd_map_allMarkers pushBack _marker;
} forEach _poly;

{
  _x params ['_id', '_x', '_y', '_icon', '_color', '_text', '_rotate',['_scale',1]];
  private _marker = createMarker [ format ['_USER_DEFINED #%1/planops%2/0', clientOwner, _id], [_x, _y], 0];
  _marker setMarkerShape 'ICON';
  _marker setMarkerDir _rotate;
  _marker setMarkerColor _color; 
  _marker setMarkerText _text;
  _marker setMarkerType _icon;
  _marker setMarkerSize [_scale,_scale];
  gtd_map_allMarkers pushBack _marker;
} forEach _icons;

{
  _x params ['_id', '_x', '_y', '_sideid', '_dashed', '_icon', '_mod1', '_mod2', '_size', '_designation',['_scale',1]];
  private _marker = [[_x,_y], 0, true, [[_sideid, _dashed], [_icon, _mod1, _mod2], [_size, false, false], [], _designation], _scale * 1.3] call mts_markers_fnc_createMarker;
  gtd_map_allMetisMarkers pushBack _marker;
} forEach _metis;

publicVariable 'gtd_map_allMarkers';
publicVariable 'gtd_map_allMetisMarkers';